<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Galerie OCR - Projet Numérisation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/numerisation-ocr.css">

</head>
<body>
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand text-white fw-bold" href="index.html">Portfolio</a>
    </div>
</nav>

<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3">Galerie - Projet Numérisation OCR</h1>
        <a class="btn btn-sm btn-outline-light" href="index.html#projects" role="button" aria-label="Retour aux projets">← Retour</a>
    </div>

    <div class="row g-4 gallery-cards">
        <!-- Card Schéma -->
        <div class="col-md-6">
            <div class="card h-100 p-3" data-group="schema">
                <div class="card-body">
                    <h5 class="card-title">Schéma</h5>
                    <p class="card-text">Diagrammes et schémas du processus.</p>
                    <div class="row g-2">
                        <div class="col-6 img-wrapper"><img src="image/img.png" alt="Schéma 1" class="thumb" data-src="image/20250526_153725.jpg" data-group="schema"></div>

                    </div>
                </div>
            </div>
        </div>

        <!-- Card PowerAutomate -->
        <div class="col-md-6">
            <div class="card h-100 p-3" data-group="powerautomate">
                <div class="card-body">
                    <h5 class="card-title">PowerAutomate</h5>
                    <p class="card-text">Flux, étapes et logs PowerAutomate.</p>
                    <div class="row g-2">
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-25 133303.png" alt="PowerAutomate 1" class="thumb" data-src="image/Capture d'écran 2025-06-25 133303.png" data-group="powerautomate"></div>
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-25 133319.png" alt="PowerAutomate 2" class="thumb" data-src="image/Capture d'écran 2025-06-25 133319.png" data-group="powerautomate"></div>
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-25 133343.png" alt="PowerAutomate 3" class="thumb" data-src="image/Capture d'écran 2025-06-25 133343.png" data-group="powerautomate"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card Tableau -->
        <div class="col-md-6">
            <div class="card h-100 p-3" data-group="tableau">
                <div class="card-body">
                    <h5 class="card-title">Tableau / Excel</h5>
                    <p class="card-text">Exemples de tableaux avant/après et export.</p>
                    <div class="row g-2">
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-19 104058.png" alt="Tableau 1" class="thumb" data-src="image/Capture d'écran 2025-06-19 104058.png" data-group="tableau"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card PowerApps -->
        <div class="col-md-6">
            <div class="card h-100 p-3" data-group="powerapps-a">
                <div class="card-body">
                    <h5 class="card-title">PowerApps</h5>
                    <p class="card-text">Captures d'écran de l'application utilisateur.</p>
                    <div class="row g-2">
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-25 133357.png" alt="PowerApps A1" class="thumb" data-src="image/Capture d'écran 2025-06-25 133357.png" data-group="powerapps-a"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card h-100 p-3" data-group="powerapps-b">
                <div class="card-body">
                    <h5 class="card-title">PowerApps</h5>
                    <p class="card-text">Captures d'écran de l'application utilisateur.</p>
                    <div class="row g-2">
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-25 133122.png" alt="PowerApps B1" class="thumb" data-src="image/Capture d'écran 2025-06-25 133122.png" data-group="powerapps-b"></div>
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-25 132755.png" alt="PowerApps B2" class="thumb" data-src="image/Capture d'écran 2025-06-25 132755.png" data-group="powerapps-b"></div>
                        <div class="col-6 img-wrapper"><img src="image/Capture d'écran 2025-06-18 144242.png" alt="PowerApps B3" class="thumb" data-src="image/Capture d'écran 2025-06-18 144242.png" data-group="powerapps-b"></div>

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Modal pour prévisualisation -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="imageModalLabel">Aperçu de l'image</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body d-flex justify-content-center align-items-center position-relative">
                <!-- image insérée ici -->
                <button type="button" class="btn-nav prev" aria-label="Image précédente">‹</button>
                <button type="button" class="btn-nav next" aria-label="Image suivante">›</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const modalState = { list: [], index: 0 };
    function openModalFromThumb(imgEl){
        const group = imgEl.getAttribute('data-group');
        modalState.list = Array.from(document.querySelectorAll(`img.thumb[data-group='${group}']`));
        modalState.index = modalState.list.indexOf(imgEl);
        updateModalImage();
        const modalEl = document.getElementById('imageModal');
        if (window.bootstrap && modalEl) bootstrap.Modal.getOrCreateInstance(modalEl).show();
    }
    function updateModalImage(){
        const current = modalState.list[modalState.index];
        const src = current.getAttribute('data-src') || current.src;
        const alt = current.getAttribute('alt') || '';
        const modalBody = document.querySelector('#imageModal .modal-body');
        const imgTag = `<img src="${src}" alt="${alt}" class="img-fluid" style="max-height:calc(100vh - 200px);">`;
        modalBody.querySelector('img') ? modalBody.querySelector('img').outerHTML = imgTag : modalBody.insertAdjacentHTML('afterbegin', imgTag);
        document.getElementById('imageModalLabel').textContent = alt || "Aperçu de l'image";
    }
    function navModal(delta){
        if(!modalState.list.length) return;
        modalState.index = (modalState.index + delta + modalState.list.length) % modalState.list.length;
        updateModalImage();
    }
    document.addEventListener('click', (e) => {
        const t = e.target;
        if (t.classList && t.classList.contains('thumb')) {
            openModalFromThumb(t);
        } else if (t.classList && t.classList.contains('btn-nav')) {
            navModal(t.classList.contains('next') ? 1 : -1);
        }
    });
    document.addEventListener('keydown', (e)=>{
        const modalEl = document.getElementById('imageModal');
        const shown = modalEl && modalEl.classList.contains('show');
        if(!shown) return;
        if(e.key === 'ArrowRight') navModal(1);
        if(e.key === 'ArrowLeft') navModal(-1);
    });
</script>
<script>
    // Tilt effect for gallery cards (same behavior as index)
    (function(){
        const cards = document.querySelectorAll('.gallery-cards .card');
        const isSmall = window.matchMedia('(max-width: 768px)').matches;
        if(!cards.length || isSmall) return; // disable on small screens

        cards.forEach(card => {
            let raf = null;
            const applyTransform = (transform, shadow) => {
                if (card.style.transform !== transform) card.style.transform = transform;
                if (card.style.boxShadow !== shadow) card.style.boxShadow = shadow;
            };
            const reset = () => applyTransform('', '');

            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const py = (y / rect.height - 0.5) * 2; // -1..1
                const rotateX = (py) * 8; // vertical tilt
                const rotateY = 0; // no horizontal tilt
                const translateY = -12;
                const scale = 1.06;
                const transform = `translateY(${translateY}px) scale(${scale}) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                const shadow = '0 80px 160px rgba(8,20,30,0.72)';
                if (raf) cancelAnimationFrame(raf);
                raf = requestAnimationFrame(() => applyTransform(transform, shadow));
            });

            card.addEventListener('mouseleave', () => {
                if (raf) cancelAnimationFrame(raf);
                card.style.transition = 'transform 360ms cubic-bezier(.2,.9,.3,1), box-shadow 360ms cubic-bezier(.2,.9,.3,1)';
                reset();
                setTimeout(() => { card.style.transition = ''; }, 380);
            });

            card.addEventListener('focusin', () => {
                card.style.transform = 'translateY(-10px) scale(1.04)';
                card.style.boxShadow = '0 30px 60px rgba(8,20,30,0.5)';
            });
            card.addEventListener('focusout', () => { reset(); });
        });
    })();
</script>
</body>
</html>
